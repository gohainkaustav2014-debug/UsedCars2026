<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory | GENXDRIVE AUTO - Premium Pre-Owned Vehicles</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }
        h1, h2, h3, .brand-font {
            font-family: 'Space Grotesk', sans-serif;
        }
        
        .hero-gradient {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0f0f0f 100%);
        }
        
        .text-gradient {
            background: linear-gradient(135deg, #ffffff 0%, #a3a3a3 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .accent-gradient {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
        }
        
        .card-hover {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-hover:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px -15px rgba(249, 115, 22, 0.3);
        }
        
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        .grid-pattern {
            background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.05) 1px, transparent 0);
            background-size: 40px 40px;
        }
        
        .noise::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 1;
        }
        
        .car-card:hover .car-overlay {
            opacity: 1;
        }
        
        .car-overlay {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .filter-btn.active {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            color: white;
            border-color: transparent;
        }
        
        .whatsapp-float {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 50;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7); }
            70% { box-shadow: 0 0 0 20px rgba(37, 211, 102, 0); }
            100% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0); }
        }
        
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.9);
            z-index: 100;
            backdrop-filter: blur(12px);
            overflow-y: auto;
        }
        
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .payment-form, .schedule-form {
            background: linear-gradient(145deg, #1a1a1a, #0f0f0f);
        }
        
        .loading-spinner {
            border: 3px solid rgba(255,255,255,0.1);
            border-radius: 50%;
            border-top: 3px solid #f97316;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .success-checkmark {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: block;
            stroke-width: 2;
            stroke: #25d366;
            stroke-miterlimit: 10;
            box-shadow: inset 0px 0px 0px #25d366;
            animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both;
        }
        
        .checkmark__circle {
            stroke-dasharray: 166;
            stroke-dashoffset: 166;
            stroke-width: 2;
            stroke-miterlimit: 10;
            stroke: #25d366;
            fill: none;
            animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
        }
        
        .checkmark__check {
            transform-origin: 50% 50%;
            stroke-dasharray: 48;
            stroke-dashoffset: 48;
            animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
        }
        
        @keyframes stroke {
            100% { stroke-dashoffset: 0; }
        }
        
        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
        }
        
        @media (max-width: 768px) {
            .inventory-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .spec-badge {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .date-input::-webkit-calendar-picker-indicator {
            filter: invert(1);
            cursor: pointer;
        }
        
        .time-slot {
            transition: all 0.3s ease;
        }
        
        .time-slot:hover:not(.disabled) {
            border-color: #f97316;
            background: rgba(249, 115, 22, 0.1);
        }
        
        .time-slot.selected {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            border-color: transparent;
            color: white;
        }
        
        .time-slot.disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        
        .sticky-sidebar {
            position: sticky;
            top: 100px;
        }
        
        .compare-checkbox:checked + div {
            border-color: #f97316;
            background: rgba(249, 115, 22, 0.1);
        }
        
        .image-gallery {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
        }
        
        .image-gallery img {
            scroll-snap-align: start;
            flex-shrink: 0;
        }
        
        .breadcrumb {
            background: linear-gradient(90deg, rgba(249,115,22,0.1) 0%, transparent 100%);
        }
    </style>
</head>
<body class="bg-neutral-950 text-white overflow-x-hidden">

    <!-- Navigation -->
    <nav class="fixed w-full z-50 bg-neutral-950/90 backdrop-blur-md border-b border-white/10 transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="brand-font text-2xl font-bold tracking-tighter flex items-center gap-2">
			<a href="index.html" class="logo">
             <img src="./images/carLogo3.jpg" width='100px' height="100px" alt="Image Found">   
            </a>
                GENXDRIVE
            </div>
            
            <div class="hidden md:flex gap-8 text-sm font-medium text-neutral-400">
               <a href="index.html" class="hover:text-white transition-colors">Home</a>
                <a href="inventory.html" class="text-white">Inventory</a>
                <a href="About.html" class="hover:text-white transition-colors">About</a>
                <a href="contactGoogleForm.html" class="hover:text-white transition-colors">Feedback Form</a>
				<a href="#" class="hover:text-white transition-colors">Contact us <br>At +9004044765/7002150200</a>
            </div>
            
            <div class="flex items-center gap-4">
                <button onclick="openCompareModal()" class="hidden md:flex items-center gap-2 px-4 py-2 bg-neutral-800 rounded-full text-sm font-medium hover:bg-neutral-700 transition-all relative">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                    </svg>
                    Compare
                    <span id="compareCount" class="absolute -top-1 -right-1 w-5 h-5 bg-orange-500 text-white text-xs rounded-full flex items-center justify-center hidden">0</span>
                </button>
                
                <button onclick="openWhatsApp()" class="hidden md:flex items-center gap-2 px-4 py-2 bg-[#25D366] text-white rounded-full text-sm font-medium hover:bg-[#128C7E] transition-all">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
                    Chat
                </button>
                <button class="md:hidden text-white" onclick="toggleMobileMenu()">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobileMenu" class="hidden md:hidden bg-neutral-900 border-t border-white/10">
            <div class="px-6 py-4 space-y-3">
                <a href="index.html" class="block text-neutral-400 hover:text-white">Home</a>
                <a href="inventory.html" class="block text-neutral-400 hover:text-white">Inventory</a>
                <a href="About.html" class="block text-neutral-400 hover:text-white">About</a>
                <a href="contactGoogleForm.html" class="block text-neutral-400 hover:text-white">Feedback Form</a>
                <button onclick="openWhatsApp()" class="w-full mt-4 flex items-center justify-center gap-2 px-4 py-3 bg-[#25D366] text-white rounded-lg font-medium">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
                    Chat on WhatsApp
                </button>
            </div>
        </div>
    </nav>

    <!-- Breadcrumb & Header -->
    <section class="pt-24 pb-8 bg-neutral-900 border-b border-white/10">
        <div class="max-w-7xl mx-auto px-6">
            <div class="breadcrumb inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm text-neutral-400 mb-4">
                <a href="index.html" class="hover:text-white transition-colors">Home</a>
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
                <span class="text-white">Inventory</span>
            </div>
            <h1 class="text-4xl md:text-6xl font-bold mb-4 reveal">Our Inventory</h1>
            <p class="text-neutral-400 text-lg max-w-2xl reveal">Browse our curated collection of certified pre-owned luxury and performance vehicles. Each car includes our 150-point inspection and 15-year warranty.</p>
        </div>
    </section>

    <!-- Filters & Search Bar -->
    <section class="sticky top-16 z-40 bg-neutral-950/95 backdrop-blur-md border-b border-white/10 py-4">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between">
                <!-- Category Filters -->
                <div class="flex gap-2 overflow-x-auto pb-2 lg:pb-0 w-full lg:w-auto scrollbar-hide">
                    <button onclick="filterCars('all')" class="filter-btn active px-6 py-2 rounded-full border border-white/20 text-sm font-medium whitespace-nowrap transition-all">All Vehicles</button>
                    <button onclick="filterCars('suv')" class="filter-btn px-6 py-2 rounded-full border border-white/20 text-sm font-medium whitespace-nowrap transition-all hover:border-orange-500">SUVs</button>
                    <button onclick="filterCars('sedan')" class="filter-btn px-6 py-2 rounded-full border border-white/20 text-sm font-medium whitespace-nowrap transition-all hover:border-orange-500">Sedans</button>
                    <button onclick="filterCars('sports')" class="filter-btn px-6 py-2 rounded-full border border-white/20 text-sm font-medium whitespace-nowrap transition-all hover:border-orange-500">Sports</button>
                    <button onclick="filterCars('electric')" class="filter-btn px-6 py-2 rounded-full border border-white/20 text-sm font-medium whitespace-nowrap transition-all hover:border-orange-500">Electric</button>
                    <button onclick="filterCars('truck')" class="filter-btn px-6 py-2 rounded-full border border-white/20 text-sm font-medium whitespace-nowrap transition-all hover:border-orange-500">Trucks</button>
                </div>
                
                <!-- Search & Sort -->
                <div class="flex gap-3 w-full lg:w-auto">
                    <div class="relative flex-1 lg:w-64">
                        <input type="text" id="searchInput" placeholder="Search make, model, year..." 
                               class="w-full px-4 py-2 bg-neutral-800 border border-white/10 rounded-lg focus:outline-none focus:border-orange-500 text-white placeholder-neutral-500 text-sm"
                               onkeyup="searchCars()">
                        <svg class="absolute right-3 top-2.5 w-4 h-4 text-neutral-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                    </div>
                    <select id="sortSelect" onchange="sortCars()" class="px-4 py-2 bg-neutral-800 border border-white/10 rounded-lg focus:outline-none focus:border-orange-500 text-white text-sm">
                        <option value="newest">Newest First</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                        <option value="mileage">Lowest Mileage</option>
                    </select>
                    <button onclick="toggleFilters()" class="lg:hidden px-4 py-2 bg-neutral-800 border border-white/10 rounded-lg">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/>
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- Advanced Filters (Collapsible) -->
            <div id="advancedFilters" class="hidden lg:flex gap-6 mt-4 pt-4 border-t border-white/5">
                <div class="flex items-center gap-2">
                    <label class="text-sm text-neutral-400">Price:</label>
                    <select id="priceFilter" onchange="applyFilters()" class="px-3 py-1 bg-neutral-800 border border-white/10 rounded text-sm text-white">
                        <option value="all">Any Price</option>
                        <option value="0-30000">Under $30k</option>
                        <option value="30000-60000">$30k - $60k</option>
                        <option value="60000-100000">$60k - $100k</option>
                        <option value="100000+">$100k+</option>
                    </select>
                </div>
                <div class="flex items-center gap-2">
                    <label class="text-sm text-neutral-400">Year:</label>
                    <select id="yearFilter" onchange="applyFilters()" class="px-3 py-1 bg-neutral-800 border border-white/10 rounded text-sm text-white">
                        <option value="all">Any Year</option>
                        <option value="2024">2024</option>
                        <option value="2023">2023</option>
                        <option value="2022">2022</option>
                        <option value="2021">2021</option>
                        <option value="2020">2020</option>
                    </select>
                </div>
                <div class="flex items-center gap-2">
                    <label class="text-sm text-neutral-400">Mileage:</label>
                    <select id="mileageFilter" onchange="applyFilters()" class="px-3 py-1 bg-neutral-800 border border-white/10 rounded text-sm text-white">
                        <option value="all">Any Mileage</option>
                        <option value="0-10000">Under 10k</option>
                        <option value="10000-30000">10k - 30k</option>
                        <option value="30000-50000">30k - 50k</option>
                    </select>
                </div>
                <div class="flex items-center gap-2 ml-auto">
                    <span class="text-sm text-neutral-400">Showing <span id="carCount" class="text-white font-bold">0</span> vehicles</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Inventory Grid -->
    <section class="py-12 bg-neutral-950 min-h-screen">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex flex-col lg:flex-row gap-8">
                <!-- Sidebar Filters (Desktop) -->
                <aside class="hidden lg:block w-64 flex-shrink-0">
                    <div class="sticky-sidebar space-y-6">
                        <div class="bg-neutral-900 rounded-2xl p-6 border border-white/5">
                            <h3 class="font-bold mb-4 flex items-center gap-2">
                                <svg class="w-5 h-5 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/>
                                </svg>
                                Filters
                            </h3>
                            
                            <div class="space-y-4">
                                <div>
                                    <label class="text-sm text-neutral-400 block mb-2">Make</label>
                                    <div class="space-y-2">
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="checkbox" class="w-4 h-4 rounded border-white/20 bg-neutral-800 text-orange-500 focus:ring-orange-500" onchange="applyFilters()" value="BMW">
                                            <span class="text-sm">BMW</span>
                                        </label>
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="checkbox" class="w-4 h-4 rounded border-white/20 bg-neutral-800 text-orange-500 focus:ring-orange-500" onchange="applyFilters()" value="Mercedes">
                                            <span class="text-sm">Mercedes-Benz</span>
                                        </label>
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="checkbox" class="w-4 h-4 rounded border-white/20 bg-neutral-800 text-orange-500 focus:ring-orange-500" onchange="applyFilters()" value="Porsche">
                                            <span class="text-sm">Porsche</span>
                                        </label>
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="checkbox" class="w-4 h-4 rounded border-white/20 bg-neutral-800 text-orange-500 focus:ring-orange-500" onchange="applyFilters()" value="Tesla">
                                            <span class="text-sm">Tesla</span>
                                        </label>
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="checkbox" class="w-4 h-4 rounded border-white/20 bg-neutral-800 text-orange-500 focus:ring-orange-500" onchange="applyFilters()" value="Audi">
                                            <span class="text-sm">Audi</span>
                                        </label>
                                    </div>
                                </div>
                                
                                <div class="border-t border-white/10 pt-4">
                                    <label class="text-sm text-neutral-400 block mb-2">Features</label>
                                    <div class="space-y-2">
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="checkbox" class="w-4 h-4 rounded border-white/20 bg-neutral-800 text-orange-500 focus:ring-orange-500">
                                            <span class="text-sm">Autopilot</span>
                                        </label>
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="checkbox" class="w-4 h-4 rounded border-white/20 bg-neutral-800 text-orange-500 focus:ring-orange-500">
                                            <span class="text-sm">Panoramic Roof</span>
                                        </label>
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="checkbox" class="w-4 h-4 rounded border-white/20 bg-neutral-800 text-orange-500 focus:ring-orange-500">
                                            <span class="text-sm">Leather Seats</span>
                                        </label>
                                        <label class="flex items-center gap-2 cursor-pointer">
                                            <input type="checkbox" class="w-4 h-4 rounded border-white/20 bg-neutral-800 text-orange-500 focus:ring-orange-500">
                                            <span class="text-sm">Sport Package</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Financing Calculator Widget -->
                        <div class="bg-neutral-900 rounded-2xl p-6 border border-white/5">
                            <h3 class="font-bold mb-4">Payment Estimator</h3>
                            <div class="space-y-3">
                                <div>
                                    <label class="text-xs text-neutral-400">Vehicle Price</label>
                                    <div class="text-xl font-bold text-orange-500" id="sidebarPrice">$50,000</div>
                                </div>
                                <input type="range" min="10000" max="200000" value="50000" class="w-full h-1 bg-neutral-700 rounded-lg appearance-none cursor-pointer accent-orange-500" oninput="updateSidebarCalc(this.value)">
                                <div class="pt-3 border-t border-white/10">
                                    <div class="text-sm text-neutral-400">Est. Monthly</div>
                                    <div class="text-2xl font-bold" id="sidebarMonthly">$750</div>
                                    <div class="text-xs text-neutral-500">60 mos • 3.99% APR</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </aside>

                <!-- Inventory Grid -->
                <div class="flex-1">
                    <div id="inventoryGrid" class="inventory-grid">
                        <!-- Cars populated by JavaScript -->
                    </div>
                    
                    <!-- Empty State -->
                    <div id="emptyState" class="hidden text-center py-20">
                        <div class="w-24 h-24 mx-auto mb-6 rounded-full bg-neutral-800 flex items-center justify-center">
                            <svg class="w-12 h-12 text-neutral-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">No vehicles found</h3>
                        <p class="text-neutral-400 mb-6">Try adjusting your filters or search criteria</p>
                        <button onclick="resetFilters()" class="px-6 py-3 accent-gradient rounded-full font-semibold hover:shadow-lg transition-all">
                            Reset Filters
                        </button>
                    </div>

                    <!-- Pagination -->
                    <div class="mt-12 flex justify-center gap-2" id="pagination">
                        <button onclick="changePage(1)" class="w-10 h-10 rounded-lg bg-orange-500 text-white font-medium">1</button>
                        <button onclick="changePage(2)" class="w-10 h-10 rounded-lg bg-neutral-800 text-white hover:bg-neutral-700 transition-all">2</button>
                        <button onclick="changePage(3)" class="w-10 h-10 rounded-lg bg-neutral-800 text-white hover:bg-neutral-700 transition-all">3</button>
                        <button onclick="nextPage()" class="w-10 h-10 rounded-lg bg-neutral-800 text-white hover:bg-neutral-700 transition-all flex items-center justify-center">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Vehicle Detail Modal -->
    <div id="vehicleModal" class="modal">
        <div class="w-full max-w-6xl mx-4 bg-neutral-900 rounded-3xl overflow-hidden border border-white/10 max-h-[90vh] overflow-y-auto">
            <div class="sticky top-0 bg-neutral-900/95 backdrop-blur-xl z-10 px-6 py-4 border-b border-white/10 flex justify-between items-center">
                <h2 class="text-2xl font-bold" id="modalTitle">Vehicle Details</h2>
                <button onclick="closeVehicleModal()" class="w-10 h-10 rounded-full bg-neutral-800 flex items-center justify-center hover:bg-neutral-700 transition-all">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            
            <div class="grid lg:grid-cols-2 gap-0">
                <!-- Image Gallery -->
                <div class="relative h-96 lg:h-auto bg-neutral-800">
                    <img id="modalImage" src="" alt="" class="w-full h-full object-cover">
                    <div class="absolute bottom-4 left-4 right-4">
                        <div class="image-gallery pb-2">
                            <img src="" class="w-20 h-20 rounded-lg object-cover border-2 border-orange-500 cursor-pointer" onclick="changeModalImage(this.src)">
                            <img src="" class="w-20 h-20 rounded-lg object-cover border-2 border-transparent hover:border-white/50 cursor-pointer opacity-60 hover:opacity-100 transition-all" onclick="changeModalImage(this.src)">
                            <img src="" class="w-20 h-20 rounded-lg object-cover border-2 border-transparent hover:border-white/50 cursor-pointer opacity-60 hover:opacity-100 transition-all" onclick="changeModalImage(this.src)">
                            <img src="" class="w-20 h-20 rounded-lg object-cover border-2 border-transparent hover:border-white/50 cursor-pointer opacity-60 hover:opacity-100 transition-all" onclick="changeModalImage(this.src)">
                        </div>
                    </div>
                    <div class="absolute top-4 left-4">
                        <span id="modalTag" class="px-3 py-1 bg-orange-500 text-white text-sm font-bold rounded-full">Certified</span>
                    </div>
                </div>
                
                <!-- Details -->
                <div class="p-8 space-y-6">
                    <div>
                        <h1 id="modalCarName" class="text-3xl font-bold mb-2">2023 BMW M4 Competition</h1>
                        <div class="flex items-center gap-4 text-neutral-400">
                            <span id="modalYear">2023</span>
                            <span>•</span>
                            <span id="modalMileage">12,000 miles</span>
                            <span>•</span>
                            <span id="modalType">Sports Coupe</span>
                        </div>
                    </div>
                    
                    <div class="flex items-baseline gap-3">
                        <span id="modalPrice" class="text-4xl font-bold text-orange-500">$78,500</span>
                        <span class="text-neutral-400">or <span id="modalMonthly">$1,200</span>/mo</span>
                    </div>
                    
                    <!-- Quick Specs -->
                    <div class="grid grid-cols-3 gap-3">
                        <div class="spec-badge rounded-xl p-3 text-center">
                            <div class="text-xs text-neutral-400 mb-1">Engine</div>
                            <div class="font-semibold text-sm" id="modalEngine">3.0L I6</div>
                        </div>
                        <div class="spec-badge rounded-xl p-3 text-center">
                            <div class="text-xs text-neutral-400 mb-1">Power</div>
                            <div class="font-semibold text-sm" id="modalPower">503 HP</div>
                        </div>
                        <div class="spec-badge rounded-xl p-3 text-center">
                            <div class="text-xs text-neutral-400 mb-1">0-60 mph</div>
                            <div class="font-semibold text-sm" id="modalAccel">3.8s</div>
                        </div>
                        <div class="spec-badge rounded-xl p-3 text-center">
                            <div class="text-xs text-neutral-400 mb-1">Drivetrain</div>
                            <div class="font-semibold text-sm" id="modalDrivetrain">AWD</div>
                        </div>
                        <div class="spec-badge rounded-xl p-3 text-center">
                            <div class="text-xs text-neutral-400 mb-1">Transmission</div>
                            <div class="font-semibold text-sm" id="modalTransmission">8-Speed Auto</div>
                        </div>
                        <div class="spec-badge rounded-xl p-3 text-center">
                            <div class="text-xs text-neutral-400 mb-1">Fuel Type</div>
                            <div class="font-semibold text-sm" id="modalFuel">Premium</div>
                        </div>
                    </div>
                    
                    <!-- Features List -->
                    <div>
                        <h3 class="font-bold mb-3">Key Features</h3>
                        <div class="grid grid-cols-2 gap-2 text-sm" id="modalFeatures">
                            <div class="flex items-center gap-2 text-neutral-300">
                                <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                                Harman Kardon Sound
                            </div>
                            <div class="flex items-center gap-2 text-neutral-300">
                                <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                                Head-Up Display
                            </div>
                            <div class="flex items-center gap-2 text-neutral-300">
                                <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                                Carbon Fiber Trim
                            </div>
                            <div class="flex items-center gap-2 text-neutral-300">
                                <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                                Adaptive Suspension
                            </div>
                        </div>
                    </div>
                    
                    <!-- CTA Buttons -->
                    <div class="space-y-3 pt-4 border-t border-white/10">
                        <div class="grid grid-cols-2 gap-3">
                            <button onclick="openScheduleModal()" class="py-4 bg-neutral-800 hover:bg-neutral-700 rounded-xl font-semibold transition-all flex items-center justify-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                </svg>
                                Schedule Test Drive
                            </button>
                            <button onclick="openReserveModal()" class="py-4 accent-gradient rounded-xl font-semibold hover:shadow-lg hover:shadow-orange-500/30 transition-all flex items-center justify-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                                Reserve Now $500
                            </button>
                        </div>
                        <button onclick="openWhatsAppForCar()" class="w-full py-3 border border-[#25D366] text-[#25D366] rounded-xl font-semibold hover:bg-[#25D366] hover:text-white transition-all flex items-center justify-center gap-2">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
                            Ask Questions on WhatsApp
                        </button>
                    </div>
                    
                    <!-- Warranty Badge -->
                    <div class="bg-neutral-800/50 rounded-xl p-4 flex items-center gap-4">
                        <div class="w-12 h-12 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0">
                            <svg class="w-6 h-6 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                            </svg>
                        </div>
                        <div>
                            <div class="font-semibold">15-Year / 150,000-Mile Warranty</div>
                            <div class="text-sm text-neutral-400">Covers engine, transmission, and electrical systems</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Schedule Test Drive Modal -->
    <div id="scheduleModal" class="modal">
        <div class="schedule-form w-full max-w-lg mx-4 rounded-2xl p-8 border border-white/10 relative">
            <button onclick="closeScheduleModal()" class="absolute top-4 right-4 text-neutral-400 hover:text-white">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
            
            <div id="scheduleStep1">
                <h3 class="text-2xl font-bold mb-2">Schedule Test Drive</h3>
                <p class="text-neutral-400 mb-6">Select your preferred date and time to experience the <span id="scheduleCarName" class="text-white font-semibold"></span></p>
                
                <form id="scheduleForm" onsubmit="processSchedule(event)">
                    <div class="space-y-4 mb-6">
                        <div>
                            <label class="block text-sm font-medium text-neutral-400 mb-2">Select Date</label>
                            <input type="date" id="driveDate" required min=""
                                   class="w-full px-4 py-3 bg-neutral-800 border border-white/10 rounded-lg focus:outline-none focus:border-orange-500 text-white date-input">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-neutral-400 mb-2">Available Time Slots</label>
                            <div class="grid grid-cols-3 gap-2" id="timeSlots">
                                <button type="button" onclick="selectTime(this, '09:00 AM')" class="time-slot py-2 px-3 border border-white/10 rounded-lg text-sm hover:border-orange-500">9:00 AM</button>
                                <button type="button" onclick="selectTime(this, '10:30 AM')" class="time-slot py-2 px-3 border border-white/10 rounded-lg text-sm hover:border-orange-500">10:30 AM</button>
                                <button type="button" onclick="selectTime(this, '12:00 PM')" class="time-slot py-2 px-3 border border-white/10 rounded-lg text-sm hover:border-orange-500">12:00 PM</button>
                                <button type="button" onclick="selectTime(this, '02:00 PM')" class="time-slot py-2 px-3 border border-white/10 rounded-lg text-sm hover:border-orange-500">2:00 PM</button>
                                <button type="button" onclick="selectTime(this, '03:30 PM')" class="time-slot py-2 px-3 border border-white/10 rounded-lg text-sm hover:border-orange-500">3:30 PM</button>
                                <button type="button" onclick="selectTime(this, '05:00 PM')" class="time-slot py-2 px-3 border border-white/10 rounded-lg text-sm hover:border-orange-500">5:00 PM</button>
                            </div>
                            <input type="hidden" id="selectedTime" required>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <input type="text" id="driveName" placeholder="Full Name" required
                                   class="w-full px-4 py-3 bg-neutral-800 border border-white/10 rounded-lg focus:outline-none focus:border-orange-500 text-white placeholder-neutral-500">
                            <input type="tel" id="drivePhone" placeholder="Phone Number" required
                                   class="w-full px-4 py-3 bg-neutral-800 border border-white/10 rounded-lg focus:outline-none focus:border-orange-500 text-white placeholder-neutral-500">
                        </div>
                        <input type="email" id="driveEmail" placeholder="Email Address" required
                               class="w-full px-4 py-3 bg-neutral-800 border border-white/10 rounded-lg focus:outline-none focus:border-orange-500 text-white placeholder-neutral-500">
                        
                        <div>
                            <label class="block text-sm font-medium text-neutral-400 mb-2">Preferred Location</label>
                            <select id="driveLocation" class="w-full px-4 py-3 bg-neutral-800 border border-white/10 rounded-lg focus:outline-none focus:border-orange-500 text-white">
                                <option value="la">Los Angeles Showroom</option>
                                <option value="bh">Beverly Hills Location</option>
                                <option value="home">At-Home Test Drive (Mobile)</option>
                            </select>
                        </div>
                        
                        <textarea id="driveNotes" placeholder="Additional requests or questions..." rows="3"
                                  class="w-full px-4 py-3 bg-neutral-800 border border-white/10 rounded-lg focus:outline-none focus:border-orange-500 text-white placeholder-neutral-500 resize-none"></textarea>
                    </div>
                    
                    <button type="submit" id="submitSchedule" class="w-full py-4 accent-gradient rounded-lg font-bold text-lg hover:shadow-lg hover:shadow-orange-500/30 transition-all flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                        </svg>
                        Confirm Test Drive
                    </button>
                </form>
            </div>
            
            <div id="scheduleStep2" class="hidden text-center py-8">
                <div class="loading-spinner mx-auto mb-4"></div>
                <h3 class="text-xl font-bold mb-2">Scheduling...</h3>
                <p class="text-neutral-400">Confirming your appointment</p>
            </div>
            
            <div id="scheduleStep3" class="hidden text-center py-8">
                <svg class="success-checkmark mx-auto mb-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                    <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
                    <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                </svg>
                <h3 class="text-2xl font-bold mb-2 text-green-500">Test Drive Scheduled!</h3>
                <p class="text-neutral-400 mb-6">We've sent confirmation details to your email and WhatsApp.</p>
                <div class="bg-neutral-800 rounded-xl p-4 mb-6 text-left">
                    <div class="text-sm text-neutral-400 mb-1">Vehicle</div>
                    <div class="font-semibold mb-3" id="confirmCar"></div>
                    <div class="text-sm text-neutral-400 mb-1">Date & Time</div>
                    <div class="font-semibold mb-3" id="confirmDateTime"></div>
                    <div class="text-sm text-neutral-400 mb-1">Location</div>
                    <div class="font-semibold" id="confirmLocation"></div>
                </div>
                <button onclick="closeScheduleModal()" class="px-8 py-3 bg-neutral-800 rounded-lg font-semibold hover:bg-neutral-700 transition-all">
                    Done
                </button>
            </div>
        </div>
    </div>

    <!-- Reserve Now / Payment Modal -->
    <div id="reserveModal" class="modal">
        <div class="payment-form w-full max-w-md mx-4 rounded-2xl p-8 border border-white/10 relative">
            <button onclick="closeReserveModal()" class="absolute top-4 right-4 text-neutral-400 hover:text-white">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
            
            <div id="reserveStep1">
                <h3 class="text-2xl font-bold mb-2">Reserve This Vehicle</h3>
                <p class="text-neutral-400 mb-6">Secure this car with a $500 fully refundable deposit. This vehicle will be held for 48 hours.</p>
                
                <div class="bg-neutral-800/50 rounded-xl p-4 mb-6 flex items-center gap-4">
                    <img id="reserveCarImage" src="" class="w-20 h-20 rounded-lg object-cover">
                    <div>
                        <div class="font-semibold" id="reserveCarName">2023 BMW M4 Competition</div>
                        <div class="text-orange-500 font-bold" id="reserveCarPrice">$78,500</div>
                        <div class="text-xs text-neutral-500">Refundable deposit • 48-hour hold</div>
                    </div>
                </div>
                
                <form id="reserveForm" onsubmit="processReservePayment(event)">
                    <div class="space-y-4 mb-6">
                        <div class="grid grid-cols-2 gap-4">
                            <input type="text" id="reserveFirstName" placeholder="First Name" required
                                   class="w-full px-4 py-3 bg-neutral-800 border border-white/10 rounded-lg focus:outline-none focus:border-orange-500 text-white placeholder-neutral-500">
                            <input type="text" id="reserveLastName" placeholder="Last Name" required
                                   class="w-full px-4 py-3 bg-neutral-800 border border-white/10 rounded-lg focus:outline-none focus:border-orange-500 text-white placeholder-neutral-500">
                        </div>
                        <input type="email" id="reserveEmail" placeholder="Email Address" required
                               class="w-full px-4 py-3 bg-neutral-800 border border-white/10 rounded-lg focus:outline-none focus:border-orange-500 text-white placeholder-neutral-500">
                        <input type="tel" id="reservePhone" placeholder="Phone Number" required
                               class="w-full px-4 py-3 bg-neutral-800 border border-white/10 rounded-lg focus:outline-none focus:border-orange-500 text-white placeholder-neutral-500">
                        
                        <div class="border-t border-white/10 pt-4">
                            <label class="block text-sm font-medium text-neutral-400 mb-3">Payment Method</label>
                            <div id="card-element" class="p-4 bg-neutral-800 border border-white/10 rounded-lg">
                                <!-- Stripe Card Element -->
                            </div>
                            <div id="card-errors" class="text-red-500 text-sm mt-2"></div>
                        </div>
                        
                        <div class="flex items-start gap-3">
                            <input type="checkbox" id="agreeTerms" required class="mt-1 w-4 h-4 rounded border-white/20 bg-neutral-800 text-orange-500 focus:ring-orange-500">
                            <label for="agreeTerms" class="text-sm text-neutral-400">
                                I agree to the <a href="#" class="text-orange-500 hover:underline">Terms of Service</a> and understand this $500 deposit is refundable within 48 hours.
                            </label>
                        </div>
                    </div>
                    
                    <button type="submit" id="submitReserve" class="w-full py-4 accent-gradient rounded-lg font-bold text-lg hover:shadow-lg hover:shadow-orange-500/30 transition-all flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        Pay $500 Deposit
                    </button>
                    
                    <div class="mt-4 flex items-center justify-center gap-2 text-sm text-neutral-500">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                        </svg>
                        Secure SSL Encrypted Payment
                    </div>
                </form>
            </div>
            
            <div id="reserveStep2" class="hidden text-center py-8">
                <div class="loading-spinner mx-auto mb-4"></div>
                <h3 class="text-xl font-bold mb-2">Processing Payment...</h3>
                <p class="text-neutral-400">Please do not close this window</p>
            </div>
            
            <div id="reserveStep3" class="hidden text-center py-8">
                <svg class="success-checkmark mx-auto mb-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                    <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
                    <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                </svg>
                <h3 class="text-2xl font-bold mb-2 text-green-500">Reservation Confirmed!</h3>
                <p class="text-neutral-400 mb-6">Your $500 deposit has been received. This vehicle is now held for 48 hours.</p>
                <div class="bg-neutral-800 rounded-xl p-4 mb-6 text-left space-y-2">
                    <div class="flex justify-between">
                        <span class="text-neutral-400">Reservation ID</span>
                        <span class="font-mono font-semibold">GENX-2024-7842</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-neutral-400">Vehicle</span>
                        <span class="font-semibold" id="confirmReserveCar"></span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-neutral-400">Amount Paid</span>
                        <span class="font-semibold text-orange-500">$500.00</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-neutral-400">Hold Expires</span>
                        <span class="font-semibold text-yellow-500" id="holdExpiry"></span>
                    </div>
                </div>
                <div class="space-y-3">
                    <button onclick="openWhatsAppAfterReserve()" class="w-full py-3 bg-[#25D366] rounded-lg font-semibold hover:bg-[#128C7E] transition-all flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
                        Confirm via WhatsApp
                    </button>
                    <button onclick="closeReserveModal()" class="w-full py-3 bg-neutral-800 rounded-lg font-semibold hover:bg-neutral-700 transition-all">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Compare Modal -->
    <div id="compareModal" class="modal">
        <div class="w-full max-w-5xl mx-4 bg-neutral-900 rounded-2xl p-8 border border-white/10 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-2xl font-bold">Compare Vehicles</h2>
                <button onclick="closeCompareModal()" class="w-10 h-10 rounded-full bg-neutral-800 flex items-center justify-center hover:bg-neutral-700 transition-all">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            
            <div id="compareContent" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Comparison content populated by JS -->
            </div>
            
            <div class="mt-8 text-center">
                <button onclick="clearCompare()" class="px-6 py-3 border border-white/20 rounded-full font-semibold hover:bg-white/5 transition-all">
                    Clear Comparison
                </button>
            </div>
        </div>
    </div>

    <!-- WhatsApp Floating Button -->
    <button onclick="openWhatsApp()" class="whatsapp-float w-16 h-16 bg-[#25D366] rounded-full flex items-center justify-center shadow-2xl hover:scale-110 transition-transform">
        <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
        </svg>
    </button>

    <!-- Footer -->
    <footer class="bg-neutral-950 border-t border-white/10 pt-20 pb-10" id="contact">
        <div class="max-w-7xl mx-auto px-6">
            <div class="grid md:grid-cols-4 gap-12 mb-16">
                <div class="col-span-2">
                    <div class="brand-font text-3xl font-bold mb-6 flex items-center gap-2">
                        <div class="w-10 h-10 accent-gradient rounded-lg flex items-center justify-center">
                            <a href="index.html" class="logo">
							<img src="./images/carLogo3.jpg" width='100px' height="100px" alt="Image Found">   
							</a>
                        </div>
                        GENXDRIVE
                    </div>
                    <p class="text-neutral-400 max-w-sm mb-6">Revolutionizing the pre-owned automotive market through transparency, technology, and uncompromising quality standards.</p>
                    <div class="flex gap-4">
                        <a href="https://x.com/" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-orange-500/20 hover:text-orange-500 transition-all">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg>
                        </a>
                        <a href="https://secure.instagram.com/" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-orange-500/20 hover:text-orange-500 transition-all">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                        </a>
                        <a href="#" onclick="openWhatsApp()" class="w-10 h-10 rounded-full bg-[#25D366] flex items-center justify-center hover:scale-110 transition-transform">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h4 class="font-bold mb-4 text-white">Quick Links</h4>
                    <ul class="space-y-3 text-neutral-400">
                        <li><a href="inventory.html" class="hover:text-orange-500 transition-colors">Inventory</a></li>
						<li><a href="About.html" class="hover:text-white transition-colors">About</a></li>
						<li><a href="contactGoogleForm.html" class="hover:text-white transition-colors">Feedback Form</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-bold mb-4 text-white">Contact</h4>
                    <ul class="space-y-3 text-neutral-400">
                        <li>1234 Velocity Drive</li>
                        <li>Los Angeles, CA 90001</li>
                        <li class="pt-2">
                            <button onclick="openWhatsApp()" class="text-[#25D366] hover:underline flex items-center gap-2">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
                                Chat on WhatsApp
                            </button>
                        </li>
                        <li>drive@genxdrive.com</li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-neutral-500">
                <p>&copy; 2024 GENXDRIVE AUTO. All rights reserved.</p>
                <div class="flex gap-6">
                    <a href="#" class="hover:text-white transition-colors">Privacy Policy</a>
                    <a href="#" class="hover:text-white transition-colors">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Comprehensive Inventory Data
        const inventory = [
            {
                id: 1,
                make: "BMW",
                model: "M4 Competition",
                year: 2023,
                price: 78500,
                mileage: 12000,
                type: "sports",
                image: "https://images.unsplash.com/photo-1555215695-3004980adade?auto=format&fit=crop&w=800&q=80",
                tag: "Just Arrived",
                engine: "3.0L I6 Twin-Turbo",
                power: "503 HP",
                accel: "3.8s",
                drivetrain: "RWD",
                transmission: "8-Speed Auto",
                fuel: "Premium",
                features: ["Harman Kardon Sound", "Head-Up Display", "Carbon Fiber Trim", "Adaptive Suspension", "Laser Headlights", "Sport Exhaust"],
                gallery: [
                    "https://images.unsplash.com/photo-1555215695-3004980adade?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1617531653520-4893f7bbf978?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1617531653332-bd46c24f2068?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1607853202273-797f1c22a38e?auto=format&fit=crop&w=800&q=80"
                ]
            },
            {
                id: 2,
                make: "Tesla",
                model: "Model 3 Performance",
                year: 2023,
                price: 52900,
                mileage: 8500,
                type: "electric",
                image: "https://images.unsplash.com/photo-1560958089-b8a1929cea89?auto=format&fit=crop&w=800&q=80",
                tag: "Best Seller",
                engine: "Dual Motor Electric",
                power: "450 HP",
                accel: "3.1s",
                drivetrain: "AWD",
                transmission: "1-Speed Direct",
                fuel: "Electric",
                features: ["Autopilot", "Premium Audio", "Glass Roof", "Heated Seats", "Supercharging", "Full Self-Driving"],
                gallery: [
                    "https://images.unsplash.com/photo-1560958089-b8a1929cea89?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1617788138017-80ad40651399?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1617704548623-340376564e68?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1560958089-b8a1929cea89?auto=format&fit=crop&w=800&q=80"
                ]
            },
            {
                id: 3,
                make: "Porsche",
                model: "911 Carrera S",
                year: 2022,
                price: 125000,
                mileage: 15000,
                type: "sports",
                image: "https://images.unsplash.com/photo-1503376780353-7e6692767b70?auto=format&fit=crop&w=800&q=80",
                tag: "Rare Find",
                engine: "3.0L Flat-6 Twin-Turbo",
                power: "443 HP",
                accel: "3.5s",
                drivetrain: "RWD",
                transmission: "8-Speed PDK",
                fuel: "Premium",
                features: ["Sport Chrono", "PASM", "Sport Exhaust", "Sunroof", "BOSE Audio", "14-Way Seats"],
                gallery: [
                    "https://images.unsplash.com/photo-1503376780353-7e6692767b70?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1614162692292-7ac56d7f7f1e?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1617531653520-4893f7bbf978?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1503376780353-7e6692767b70?auto=format&fit=crop&w=800&q=80"
                ]
            },
            {
                id: 4,
                make: "Range Rover",
                model: "Sport HSE Dynamic",
                year: 2023,
                price: 89500,
                mileage: 18000,
                type: "suv",
                image: "https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?auto=format&fit=crop&w=800&q=80",
                tag: "Certified",
                engine: "3.0L I6 Mild Hybrid",
                power: "355 HP",
                accel: "6.2s",
                drivetrain: "AWD",
                transmission: "8-Speed Auto",
                fuel: "Premium",
                features: ["Air Suspension", "Panoramic Roof", "Meridian Audio", "Terrain Response", "HUD", "Soft Close Doors"],
                gallery: [
                    "https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1606220838315-056192d5e927?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?auto=format&fit=crop&w=800&q=80"
                ]
            },
            {
                id: 5,
                make: "Mercedes-Benz",
                model: "S-Class S 580",
                year: 2022,
                price: 98000,
                mileage: 22000,
                type: "sedan",
                image: "https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?auto=format&fit=crop&w=800&q=80",
                tag: "Luxury",
                engine: "4.0L V8 Biturbo",
                power: "496 HP",
                accel: "4.4s",
                drivetrain: "AWD",
                transmission: "9-Speed Auto",
                fuel: "Premium",
                features: ["MBUX Hyperscreen", "Air Balance", "Burmester 4D", "Magic Body Control", "Rear Entertainment", "Chauffeur Package"],
                gallery: [
                    "https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1618842694845-2a83c2e7917d?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1617531653520-4893f7bbf978?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?auto=format&fit=crop&w=800&q=80"
                ]
            },
            {
                id: 6,
                make: "Audi",
                model: "e-tron GT RS",
                year: 2023,
                price: 138000,
                mileage: 6000,
                type: "electric",
                image: "https://images.unsplash.com/photo-1614200179396-2bdb77ebf81b?auto=format&fit=crop&w=800&q=80",
                tag: "Electric Performance",
                engine: "Dual Motor Electric",
                power: "637 HP",
                accel: "3.1s",
                drivetrain: "AWD",
                transmission: "2-Speed Auto",
                fuel: "Electric",
                features: ["Matrix LED", "B&O Sound", "Air Suspension", "Carbon Ceramic Brakes", "Virtual Cockpit", "Night Vision"],
                gallery: [
                    "https://images.unsplash.com/photo-1614200179396-2bdb77ebf81b?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1617788138017-80ad40651399?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1603584173870-7f23fdae1b7a?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1614200179396-2bdb77ebf81b?auto=format&fit=crop&w=800&q=80"
                ]
            },
            {
                id: 7,
                make: "Lexus",
                model: "RX 350 F Sport",
                year: 2023,
                price: 58900,
                mileage: 14000,
                type: "suv",
                image: "https://images.unsplash.com/photo-1621007947382-bb3c3968e3bb?auto=format&fit=crop&w=800&q=80",
                tag: "Reliable",
                engine: "2.4L I4 Turbo",
                power: "275 HP",
                accel: "7.2s",
                drivetrain: "AWD",
                transmission: "8-Speed Auto",
                fuel: "Premium",
                features: ["Mark Levinson Audio", "Panoramic View", "Adaptive Cruise", "F Sport Styling", "Heated Steering", "Power Liftgate"],
                gallery: [
                    "https://images.unsplash.com/photo-1621007947382-bb3c3968e3bb?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1552519507-da3b142c6e3d?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1621007947382-bb3c3968e3bb?auto=format&fit=crop&w=800&q=80"
                ]
            },
            {
                id: 8,
                make: "BMW",
                model: "X5 M50i",
                year: 2022,
                price: 72900,
                mileage: 28000,
                type: "suv",
                image: "https://images.unsplash.com/photo-1556189250-72ba954e6793?auto=format&fit=crop&w=800&q=80",
                tag: "Value",
                engine: "4.4L V8 Twin-Turbo",
                power: "523 HP",
                accel: "4.1s",
                drivetrain: "AWD",
                transmission: "8-Speed Auto",
                fuel: "Premium",
                features: ["M Sport Brakes", "Adaptive LED", "Harman Kardon", "Soft Close", "Gesture Control", "Air Suspension"],
                gallery: [
                    "https://images.unsplash.com/photo-1556189250-72ba954e6793?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1555215695-3004980adade?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1607853202273-797f1c22a38e?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1556189250-72ba954e6793?auto=format&fit=crop&w=800&q=80"
                ]
            },
            {
                id: 9,
                make: "Mercedes-Benz",
                model: "G-Wagon G63 AMG",
                year: 2021,
                price: 185000,
                mileage: 25000,
                type: "suv",
                image: "https://images.unsplash.com/photo-1520031441872-265e4ff70366?auto=format&fit=crop&w=800&q=80",
                tag: "Luxury SUV",
                engine: "4.0L V8 Biturbo",
                power: "577 HP",
                accel: "4.5s",
                drivetrain: "AWD",
                transmission: "9-Speed Auto",
                fuel: "Premium",
                features: ["AMG Night Package", "Designo Interior", "Burmester 3D", "Three Diff Locks", "Side Pipes", "22 Wheels"],
                gallery: [
                    "https://images.unsplash.com/photo-1520031441872-265e4ff70366?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1549399542-7e3f8b79c341?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1606220838315-056192d5e927?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1520031441872-265e4ff70366?auto=format&fit=crop&w=800&q=80"
                ]
            },
            {
                id: 10,
                make: "Porsche",
                model: "Taycan 4S",
                year: 2023,
                price: 118000,
                mileage: 8000,
                type: "electric",
                image: "https://images.unsplash.com/photo-1614200179396-2bdb77ebf81b?auto=format&fit=crop&w=800&q=80",
                tag: "Electric",
                engine: "Dual Motor Electric",
                power: "562 HP",
                accel: "3.8s",
                drivetrain: "AWD",
                transmission: "2-Speed Auto",
                fuel: "Electric",
                features: ["Performance Battery Plus", "PASM", "Sport Chrono", "PSC Brakes", "Matrix LED", "Charging Dock"],
                gallery: [
                    "https://images.unsplash.com/photo-1614200179396-2bdb77ebf81b?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1617788138017-80ad40651399?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1603584173870-7f23fdae1b7a?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1614200179396-2bdb77ebf81b?auto=format&fit=crop&w=800&q=80"
                ]
            },
            {
                id: 11,
                make: "BMW",
                model: "7 Series 760i",
                year: 2023,
                price: 115000,
                mileage: 12000,
                type: "sedan",
                image: "https://images.unsplash.com/photo-1555215695-3004980adade?auto=format&fit=crop&w=800&q=80",
                tag: "Executive",
                engine: "4.4L V8 Twin-Turbo",
                power: "536 HP",
                accel: "4.2s",
                drivetrain: "AWD",
                transmission: "8-Speed Auto",
                fuel: "Premium",
                features: ["Theater Screen", "Sky Lounge", "Executive Lounge", "Crystal Controls", "Air Suspension", "Laser Lights"],
                gallery: [
                    "https://images.unsplash.com/photo-1555215695-3004980adade?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1617531653520-4893f7bbf978?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1555215695-3004980adade?auto=format&fit=crop&w=800&q=80"
                ]
            },
            {
                id: 12,
                make: "Audi",
                model: "R8 V10 Performance",
                year: 2020,
                price: 142000,
                mileage: 18000,
                type: "sports",
                image: "https://images.unsplash.com/photo-1603584173870-7f23fdae1b7a?auto=format&fit=crop&w=800&q=80",
                tag: "Supercar",
                engine: "5.2L V10 Naturally Aspirated",
                power: "602 HP",
                accel: "3.1s",
                drivetrain: "AWD",
                transmission: "7-Speed DCT",
                fuel: "Premium",
                features: ["Carbon Fiber Wing", "Laser Lights", "B&O Sound", "Magnetic Ride", "Ceramic Brakes", "Sport Exhaust"],
                gallery: [
                    "https://images.unsplash.com/photo-1603584173870-7f23fdae1b7a?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1607853202273-797f1c22a38e?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1614200179396-2bdb77ebf81b?auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1603584173870-7f23fdae1b7a?auto=format&fit=crop&w=800&q=80"
                ]
            }
        ];

        let currentFilter = 'all';
        let currentPage = 1;
        let selectedCar = null;
        let compareList = [];
        let stripe;
        let cardElement;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderInventory(inventory);
            initStripe();
            initScrollAnimations();
            setMinDate();
            
            // Set today's date as min for scheduling
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('driveDate').min = today;
        });

        function setMinDate() {
            const today = new Date();
            today.setDate(today.getDate() + 1); // Tomorrow
            const minDate = today.toISOString().split('T')[0];
            document.getElementById('driveDate').min = minDate;
        }

        // Render Inventory Grid
        function renderInventory(cars) {
            const grid = document.getElementById('inventoryGrid');
            const emptyState = document.getElementById('emptyState');
            const carCount = document.getElementById('carCount');
            
            if (cars.length === 0) {
                grid.innerHTML = '';
                emptyState.classList.remove('hidden');
                carCount.textContent = 0;
                return;
            }
            
            emptyState.classList.add('hidden');
            carCount.textContent = cars.length;
            
            grid.innerHTML = cars.map(car => `
                <div class="car-card group bg-neutral-900 rounded-2xl overflow-hidden border border-white/5 card-hover reveal">
                    <div class="relative h-56 overflow-hidden">
                        <img src="${car.image}" alt="${car.make} ${car.model}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                        <div class="absolute top-4 left-4">
                            <span class="px-3 py-1 bg-orange-500 text-white text-xs font-bold rounded-full">${car.tag}</span>
                        </div>
                        <div class="absolute top-4 right-4">
                            <label class="compare-checkbox cursor-pointer">
                                <input type="checkbox" class="hidden" onchange="toggleCompare(${car.id})" ${compareList.includes(car.id) ? 'checked' : ''}>
                                <div class="w-10 h-10 rounded-full bg-neutral-900/80 backdrop-blur flex items-center justify-center border border-white/20 hover:border-orange-500 transition-all">
                                    <svg class="w-5 h-5 ${compareList.includes(car.id) ? 'text-orange-500' : 'text-white'}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                    </svg>
                                </div>
                            </label>
                        </div>
                        <div class="car-overlay absolute inset-0 bg-neutral-950/80 flex items-center justify-center gap-3">
                            <button onclick="openVehicleModal(${car.id})" class="px-6 py-3 bg-white text-neutral-950 rounded-lg font-semibold hover:bg-neutral-200 transition-all">
                                View Details
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h3 class="text-lg font-bold">${car.make} ${car.model}</h3>
                                <p class="text-neutral-400 text-sm">${car.year} • ${car.mileage.toLocaleString()} miles</p>
                            </div>
                        </div>
                        
                        <div class="flex flex-wrap gap-2 my-3">
                            <span class="px-2 py-1 bg-neutral-800 rounded text-xs text-neutral-300">${car.engine.split(' ')[0]}</span>
                            <span class="px-2 py-1 bg-neutral-800 rounded text-xs text-neutral-300">${car.power}</span>
                            <span class="px-2 py-1 bg-neutral-800 rounded text-xs text-neutral-300">${car.drivetrain}</span>
                        </div>
                        
                        <div class="flex justify-between items-center pt-4 border-t border-white/5">
                            <div>
                                <div class="text-2xl font-bold text-orange-500">$${car.price.toLocaleString()}</div>
                                <div class="text-xs text-neutral-500">$${Math.round(car.price/60).toLocaleString()}/mo</div>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="openScheduleModal(${car.id})" class="p-2 bg-neutral-800 rounded-lg hover:bg-neutral-700 transition-all" title="Schedule Test Drive">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                    </svg>
                                </button>
                                <button onclick="openReserveModal(${car.id})" class="p-2 accent-gradient rounded-lg hover:shadow-lg transition-all" title="Reserve Now">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                </button>
                                <button onclick="openWhatsApp('Hi, I am interested in the ${car.year} ${car.make} ${car.model} (ID: ${car.id})')" class="p-2 bg-[#25D366] rounded-lg hover:bg-[#128C7E] transition-all" title="Ask on WhatsApp">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
            
            setTimeout(initScrollAnimations, 100);
        }

        // Filter Functions
        function filterCars(type) {
            currentFilter = type;
            
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            applyFilters();
        }

        function applyFilters() {
            let filtered = inventory;
            
            // Category filter
            if (currentFilter !== 'all') {
                filtered = filtered.filter(car => car.type === currentFilter);
            }
            
            // Price filter
            const priceRange = document.getElementById('priceFilter').value;
            if (priceRange !== 'all') {
                const [min, max] = priceRange.split('-').map(v => v.replace('+', ''));
                filtered = filtered.filter(car => {
                    if (max) return car.price >= parseInt(min) && car.price <= parseInt(max);
                    return car.price >= parseInt(min);
                });
            }
            
            // Year filter
            const year = document.getElementById('yearFilter').value;
            if (year !== 'all') {
                filtered = filtered.filter(car => car.year === parseInt(year));
            }
            
            // Mileage filter
            const mileage = document.getElementById('mileageFilter').value;
            if (mileage !== 'all') {
                const [min, max] = mileage.split('-');
                filtered = filtered.filter(car => car.mileage >= parseInt(min) && car.mileage <= parseInt(max));
            }
            
            // Make filter (checkboxes)
            const checkedMakes = Array.from(document.querySelectorAll('input[type="checkbox"]:checked')).map(cb => cb.value);
            if (checkedMakes.length > 0) {
                filtered = filtered.filter(car => checkedMakes.includes(car.make));
            }
            
            renderInventory(filtered);
        }

        function resetFilters() {
            currentFilter = 'all';
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector('.filter-btn').classList.add('active');
            document.getElementById('priceFilter').value = 'all';
            document.getElementById('yearFilter').value = 'all';
            document.getElementById('mileageFilter').value = 'all';
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
            document.getElementById('searchInput').value = '';
            renderInventory(inventory);
        }

        function searchCars() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const filtered = inventory.filter(car => 
                car.make.toLowerCase().includes(query) || 
                car.model.toLowerCase().includes(query) ||
                car.year.toString().includes(query) ||
                car.type.includes(query)
            );
            renderInventory(filtered);
        }

        function sortCars() {
            const sortType = document.getElementById('sortSelect').value;
            let sorted = [...inventory];
            
            switch(sortType) {
                case 'price-low':
                    sorted.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    sorted.sort((a, b) => b.price - a.price);
                    break;
                case 'mileage':
                    sorted.sort((a, b) => a.mileage - b.mileage);
                    break;
                default:
                    sorted.sort((a, b) => b.year - a.year);
            }
            
            renderInventory(sorted);
        }

        function toggleFilters() {
            const filters = document.getElementById('advancedFilters');
            filters.classList.toggle('hidden');
        }

        // Vehicle Detail Modal
        function openVehicleModal(carId) {
            selectedCar = inventory.find(c => c.id === carId);
            if (!selectedCar) return;
            
            document.getElementById('modalCarName').textContent = `${selectedCar.year} ${selectedCar.make} ${selectedCar.model}`;
            document.getElementById('modalYear').textContent = selectedCar.year;
            document.getElementById('modalMileage').textContent = selectedCar.mileage.toLocaleString() + ' miles';
            document.getElementById('modalType').textContent = selectedCar.type.charAt(0).toUpperCase() + selectedCar.type.slice(1);
            document.getElementById('modalPrice').textContent = '$' + selectedCar.price.toLocaleString();
            document.getElementById('modalMonthly').textContent = '$' + Math.round(selectedCar.price/60).toLocaleString();
            document.getElementById('modalTag').textContent = selectedCar.tag;
            document.getElementById('modalImage').src = selectedCar.image;
            
            // Specs
            document.getElementById('modalEngine').textContent = selectedCar.engine.split(' ').slice(0, 2).join(' ');
            document.getElementById('modalPower').textContent = selectedCar.power;
            document.getElementById('modalAccel').textContent = selectedCar.accel;
            document.getElementById('modalDrivetrain').textContent = selectedCar.drivetrain;
            document.getElementById('modalTransmission').textContent = selectedCar.transmission;
            document.getElementById('modalFuel').textContent = selectedCar.fuel;
            
            // Features
            document.getElementById('modalFeatures').innerHTML = selectedCar.features.map(f => `
                <div class="flex items-center gap-2 text-neutral-300">
                    <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
                    ${f}
                </div>
            `).join('');
            
            // Gallery thumbnails
            const gallery = document.querySelector('.image-gallery');
            gallery.innerHTML = selectedCar.gallery.map((img, idx) => `
                <img src="${img}" class="w-20 h-20 rounded-lg object-cover border-2 ${idx === 0 ? 'border-orange-500' : 'border-transparent hover:border-white/50'} cursor-pointer transition-all" onclick="changeModalImage('${img}')">
            `).join('');
            
            document.getElementById('vehicleModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeVehicleModal() {
            document.getElementById('vehicleModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        function changeModalImage(src) {
            document.getElementById('modalImage').src = src;
        }

        // Schedule Test Drive Modal
        function openScheduleModal(carId) {
            if (carId) selectedCar = inventory.find(c => c.id === carId);
            if (!selectedCar) return;
            
            document.getElementById('scheduleCarName').textContent = `${selectedCar.year} ${selectedCar.make} ${selectedCar.model}`;
            document.getElementById('scheduleModal').classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Reset form
            document.getElementById('scheduleStep1').classList.remove('hidden');
            document.getElementById('scheduleStep2').classList.add('hidden');
            document.getElementById('scheduleStep3').classList.add('hidden');
            document.getElementById('scheduleForm').reset();
            document.querySelectorAll('.time-slot').forEach(slot => slot.classList.remove('selected'));
        }

        function closeScheduleModal() {
            document.getElementById('scheduleModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        function selectTime(btn, time) {
            document.querySelectorAll('.time-slot').forEach(slot => slot.classList.remove('selected'));
            btn.classList.add('selected');
            document.getElementById('selectedTime').value = time;
        }

        function processSchedule(event) {
            event.preventDefault();
            
            const date = document.getElementById('driveDate').value;
            const time = document.getElementById('selectedTime').value;
            
            if (!time) {
                alert('Please select a time slot');
                return;
            }
            
            document.getElementById('scheduleStep1').classList.add('hidden');
            document.getElementById('scheduleStep2').classList.remove('hidden');
            
            // Simulate API call
            setTimeout(() => {
                document.getElementById('scheduleStep2').classList.add('hidden');
                document.getElementById('scheduleStep3').classList.remove('hidden');
                
                document.getElementById('confirmCar').textContent = `${selectedCar.year} ${selectedCar.make} ${selectedCar.model}`;
                document.getElementById('confirmDateTime').textContent = `${date} at ${time}`;
                
                const location = document.getElementById('driveLocation');
                const locationText = location.options[location.selectedIndex].text;
                document.getElementById('confirmLocation').textContent = locationText;
                
                // Send WhatsApp confirmation
                const name = document.getElementById('driveName').value;
                const message = `Hi, I scheduled a test drive for the ${selectedCar.year} ${selectedCar.make} ${selectedCar.model} on ${date} at ${time}. Name: ${name}`;
                
                setTimeout(() => {
                    openWhatsApp(message);
                }, 1000);
                
            }, 2000);
        }

        // Reserve/Payment Modal
        function openReserveModal(carId) {
            if (carId) selectedCar = inventory.find(c => c.id === carId);
            if (!selectedCar) return;
            
            document.getElementById('reserveCarName').textContent = `${selectedCar.year} ${selectedCar.make} ${selectedCar.model}`;
            document.getElementById('reserveCarPrice').textContent = '$' + selectedCar.price.toLocaleString();
            document.getElementById('reserveCarImage').src = selectedCar.image;
            
            document.getElementById('reserveModal').classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Reset form
            document.getElementById('reserveStep1').classList.remove('hidden');
            document.getElementById('reserveStep2').classList.add('hidden');
            document.getElementById('reserveStep3').classList.add('hidden');
            document.getElementById('reserveForm').reset();
        }

        function closeReserveModal() {
            document.getElementById('reserveModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        function initStripe() {
            stripe = Stripe('pk_test_your_publishable_key_here');
            const elements = stripe.elements({
                appearance: {
                    theme: 'night',
                    variables: {
                        colorPrimary: '#f97316',
                        colorBackground: '#262626',
                        colorText: '#ffffff',
                        colorDanger: '#ef4444',
                        borderRadius: '8px',
                    }
                }
            });
            
            cardElement = elements.create('card', {
                style: {
                    base: {
                        fontSize: '16px',
                        color: '#ffffff',
                        '::placeholder': { color: '#737373' },
                    },
                },
            });
            
            cardElement.mount('#card-element');
            
            cardElement.on('change', function(event) {
                const displayError = document.getElementById('card-errors');
                displayError.textContent = event.error ? event.error.message : '';
            });
        }

        async function processReservePayment(event) {
            event.preventDefault();
            
            const submitBtn = document.getElementById('submitReserve');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<div class="loading-spinner w-5 h-5 border-2"></div> Processing...';
            
            document.getElementById('reserveStep1').classList.add('hidden');
            document.getElementById('reserveStep2').classList.remove('hidden');
            
            setTimeout(async () => {
                try {
                    // Simulate payment success
                    document.getElementById('reserveStep2').classList.add('hidden');
                    document.getElementById('reserveStep3').classList.remove('hidden');
                    
                    document.getElementById('confirmReserveCar').textContent = `${selectedCar.year} ${selectedCar.make} ${selectedCar.model}`;
                    
                    // Calculate hold expiry (48 hours from now)
                    const expiry = new Date();
                    expiry.setHours(expiry.getHours() + 48);
                    document.getElementById('holdExpiry').textContent = expiry.toLocaleString();
                    
                } catch (error) {
                    document.getElementById('card-errors').textContent = 'Payment failed. Please try again.';
                    document.getElementById('reserveStep2').classList.add('hidden');
                    document.getElementById('reserveStep1').classList.remove('hidden');
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg> Pay $500 Deposit';
                }
            }, 2000);
        }

        function openWhatsAppAfterReserve() {
            const name = document.getElementById('reserveFirstName').value + ' ' + document.getElementById('reserveLastName').value;
            const message = `Hi, I just reserved the ${selectedCar.year} ${selectedCar.make} ${selectedCar.model} with a $500 deposit. Reservation ID: GENX-2024-7842. Name: ${name}`;
            openWhatsApp(message);
        }

        // Compare Functionality
        function toggleCompare(carId) {
            const index = compareList.indexOf(carId);
            if (index > -1) {
                compareList.splice(index, 1);
            } else {
                if (compareList.length >= 3) {
                    alert('You can compare up to 3 vehicles');
                    event.target.checked = false;
                    return;
                }
                compareList.push(carId);
            }
            updateCompareCount();
            renderInventory(inventory); // Re-render to update checkboxes
        }

        function updateCompareCount() {
            const count = document.getElementById('compareCount');
            if (compareList.length > 0) {
                count.textContent = compareList.length;
                count.classList.remove('hidden');
            } else {
                count.classList.add('hidden');
            }
        }

        function openCompareModal() {
            if (compareList.length < 2) {
                alert('Please select at least 2 vehicles to compare');
                return;
            }
            
            const content = document.getElementById('compareContent');
            const cars = compareList.map(id => inventory.find(c => c.id === id));
            
            content.innerHTML = cars.map(car => `
                <div class="bg-neutral-800 rounded-2xl p-6 border border-white/5">
                    <img src="${car.image}" class="w-full h-40 object-cover rounded-xl mb-4">
                    <h3 class="text-xl font-bold mb-2">${car.make} ${car.model}</h3>
                    <div class="text-2xl font-bold text-orange-500 mb-4">$${car.price.toLocaleString()}</div>
                    
                    <div class="space-y-3 text-sm">
                        <div class="flex justify-between border-b border-white/5 pb-2">
                            <span class="text-neutral-400">Year</span>
                            <span class="font-semibold">${car.year}</span>
                        </div>
                        <div class="flex justify-between border-b border-white/5 pb-2">
                            <span class="text-neutral-400">Mileage</span>
                            <span class="font-semibold">${car.mileage.toLocaleString()}</span>
                        </div>
                        <div class="flex justify-between border-b border-white/5 pb-2">
                            <span class="text-neutral-400">Engine</span>
                            <span class="font-semibold">${car.engine}</span>
                        </div>
                        <div class="flex justify-between border-b border-white/5 pb-2">
                            <span class="text-neutral-400">Power</span>
                            <span class="font-semibold">${car.power}</span>
                        </div>
                        <div class="flex justify-between border-b border-white/5 pb-2">
                            <span class="text-neutral-400">0-60 mph</span>
                            <span class="font-semibold">${car.accel}</span>
                        </div>
                        <div class="flex justify-between border-b border-white/5 pb-2">
                            <span class="text-neutral-400">Drivetrain</span>
                            <span class="font-semibold">${car.drivetrain}</span>
                        </div>
                    </div>
                    
                    <button onclick="openReserveModal(${car.id}); closeCompareModal();" class="w-full mt-6 py-3 accent-gradient rounded-lg font-semibold hover:shadow-lg transition-all">
                        Reserve This Car
                    </button>
                </div>
            `).join('');
            
            document.getElementById('compareModal').classList.add('active');
        }

        function closeCompareModal() {
            document.getElementById('compareModal').classList.remove('active');
        }

        function clearCompare() {
            compareList = [];
            updateCompareCount();
            renderInventory(inventory);
            closeCompareModal();
        }

        // WhatsApp Integration
        function openWhatsApp(message = '') {
            const phoneNumber = '15551234567'; // Replace with your WhatsApp Business number
            const defaultMessage = 'Hi, I am interested in a vehicle from GENXDRIVE AUTO.';
            const text = encodeURIComponent(message || defaultMessage);
            window.open(`https://wa.me/${phoneNumber}?text=${text}`, '_blank');
        }

        function openWhatsAppForCar() {
            if (!selectedCar) return;
            const message = `Hi, I have questions about the ${selectedCar.year} ${selectedCar.make} ${selectedCar.model}. Can you provide more details?`;
            openWhatsApp(message);
        }

        // Sidebar Calculator
        function updateSidebarCalc(value) {
            document.getElementById('sidebarPrice').textContent = '$' + parseInt(value).toLocaleString();
            const monthly = (value * 0.0189).toFixed(0); // Rough calculation
            document.getElementById('sidebarMonthly').textContent = '$' + monthly;
        }

        // Utility Functions
        function changePage(page) {
            currentPage = page;
            // In real implementation, this would fetch new data
            document.querySelectorAll('#pagination button').forEach((btn, idx) => {
                if (idx === page - 1) {
                    btn.classList.add('bg-orange-500');
                    btn.classList.remove('bg-neutral-800');
                } else if (idx < 3) {
                    btn.classList.remove('bg-orange-500');
                    btn.classList.add('bg-neutral-800');
                }
            });
        }

        function nextPage() {
            if (currentPage < 3) changePage(currentPage + 1);
        }

        function toggleMobileMenu() {
            document.getElementById('mobileMenu').classList.toggle('hidden');
        }

        function initScrollAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.reveal').forEach((el) => observer.observe(el));
        }

        // Close modals on outside click
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
        });

        // Navbar scroll effect
        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('shadow-lg');
            } else {
                navbar.classList.remove('shadow-lg');
            }
        });
    </script>
</body>
</html>
